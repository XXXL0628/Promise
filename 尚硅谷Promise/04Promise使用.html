<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        /*
        Promise是什么？
        Promise是解决异步编程的新的东西（旧的是什么？---纯回调函数（代表只有回调函数，Promise里面也有回调函数））
        从语法上说：Promise是一个构造函数
        从功能上说：Promise对象用来封装一个异步操作并可以获取其结果


        Promise的状态改变
        Pending、resolved（fulfilled）、rejected
        一个promise对象只能改变一次
        无论变为成功还是失败，都会有一个结果数据
        成功的结 果数据一般称为value，失败的结果数据一般称为reason
        */
        //1、创建一个Promise对象
        const p = new Promise((resolve, reject) => {  //执行器函数
            //执行异步操作
            setTimeout(() => {  //如果当前时间是偶数，则成功，否则失败
                const time = Date.now();
                //如果成功调用resolve(value)
                if (time % 2 == 0) {
                    resolve('成功的数据 time：' + time);
                } else {
                    reject('失败的数据 time：' + time);
                }
            }, 1000);
        });

        p.then(
            value => {
                //接收得到成功的value数据   onresolved
                console.log('成功的回调',value);
            },
            reason => {
                //接收得到失败的reason数据  onrejected
                console.log('失败的回调',reason);
            });
    </script>
</body>

</html>